<!DOCTYPE html>

<html lang="en"  class="">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="keywords" content="">
    
    
    <meta name="description" content="">
    
    <meta name="generator" content="teedoc">
    <meta name="theme" content="teedoc-plugin-theme-default">
    
        
        <meta name="markdown-generator" content="teedoc-plugin-markdown-parser">
        
        <script>
MathJax = {"loader": {"load": ["output/svg"]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]]}, "svg": {"fontCache": "global"}};
</script>
        
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
        <meta name="html-generator" content="teedoc-plugin-jupyter-notebook-parser">
        
        <meta name="blog-generator" content="teedoc-plugin-blog">
        
        <script src="/static/js/theme_default/pre_main.js"></script>
        
        <link rel="stylesheet" href="/static/css/theme_default/prism.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/viewer.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/dark.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/light.css" type="text/css"/>
        
        <script src="/static/js/theme_default/jquery.min.js"></script>
        
        <script src="/static/js/theme_default/split.js"></script>
        
        <link rel="stylesheet" href="/static/css/search/style.css" type="text/css"/>
        
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?789a62aac0b25ad52089ddb4f85128cd";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
        
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-MRHWDDNYB6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'G-MRHWDDNYB6');
    </script>
        
        <link rel="stylesheet" href="/static/css/gitalk/gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/gitalk/custom_gitalk.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/custom.css" type="text/css"/>
        
    
    
    <title>BPI-Steam</title>
    
    <script type="text/javascript">js_vars = {}</script>
    <script type="text/javascript">metadata = {"tags": [], "date": null, "update": [], "ts": 0, "author": "", "brief": "", "cover": ""}</script>
</head>


<body class="type_doc">
    
    <div id="navbar">
        <div id="navbar_menu">
            <a class="site_title" href="/">
                
                    <img class="site_logo" src="/static/image/logo.png" alt="Banana Pi logo">
                
                
                    <h2>wiki</h2>
                
        </a>
            <a id="navbar_menu_btn"></a>
        </div>
        <div id="navbar_items">
            <div>
                <ul id="nav_left">
<li class=""><a  href="/en/">Home</a></li>
<li class="sub_items "><a  >Bit Series</a><ul><li class=""><a  href="/WebBit_doc/en/">WebBit User Manual</a></li>
<li class=""><a  href="/WebBit_dev/en/">WebBit Development Manual</a></li>
<li class=""><a  href="/Bit_S2_doc/en/">Bit-S2 User Manual</a></li>
</ul></li>
<li class=""><a  href="/WebAI/en/">WebAI</a></li>
<li class="active"><a  href="/Centi_S3_doc/en/">Centi-S3</a></li>
<li class=""><a  href="/Leaf_S3_doc/en/">Leaf-S3</a></li>
<li class="sub_items "><a  >Pico</a><ul><li class=""><a  href="/Pico_RP2040_doc/en/">Pico-RP2040</a></li>
<li class=""><a  href="/PicoW_S3_doc/en/">PicoW-S3</a></li>
</ul></li>
<li class="sub_items "><a  >Accessories</a><ul><li class=""><a  href="/Q-Car/en/">Q-Car</a></li>
<li class=""><a  href="/Triode-Car/en/">Triode-Car</a></li>
</ul></li>
<li class=""><a  href="/news/">news</a></li>
</ul>

            </div>
            <div>
                <ul id="nav_right">
<li class="sub_items "><a  >language: English</a><ul><li class=""><a  href="/Centi_S3_doc/zh_tw/MicroPython/VScode_mpbridge.html">中文 繁體</a></li>
<li class=""><a  href="/Centi_S3_doc/zh/MicroPython/VScode_mpbridge.html">中文 简体</a></li>
<li class="active"><a  href="/Centi_S3_doc/en/MicroPython/VScode_mpbridge.html">English</a></li>
</ul></li>
</ul>

                <ul class="nav_plugins"><li><a id="google_translate_element"><img class="icon" src="/static/image/google_translate/translate.svg"/>Translate</a></li></ul><ul class="nav_plugins"><li><a id="themes" class="light"></a></li></ul><ul class="nav_plugins"><li><a id="search"><span class="icon"></span><span class="placeholder">Search</span>
                            <div id="search_hints">
                                <span id="search_input_hint">Enter keywords, separated by spaces</span>
                                <span id="search_loading_hint">Loading, please wait...</span>
                                <span id="search_download_err_hint">Failed to download the file, please refresh and try again or check the network</span>
                                <span id="search_other_docs_result_hint">Results from other docs</span>
                                <span id="search_curr_doc_result_hint">Current document search result</span>
                            </div></a></li></ul>
            </div>
        </div>
    </div>
    
    <div id="wrapper">
        <div id="sidebar_wrapper">
            <div id="sidebar">
                <div id="sidebar_title">
                    
                </div>
                <ul class="show">
<li class="not_active with_link"><a href="/Centi_S3_doc/en/index.html"><span class="label">1. Centi-S3 Homepage</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/getting-started.html"><span class="label">Getting Started Guide</span><span class=""></span></a></li>
<li class="active_parent no_link"><a><span class="label">2. Code with MicroPython</span><span class="sub_indicator"></span></a><ul class="show">
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/What_is_MicroPython.html"><span class="label">What is MicroPython?</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/environment.html"><span class="label">Install and configure the environment</span><span class=""></span></a></li>
<li class="active with_link"><a href="/Centi_S3_doc/en/MicroPython/VScode_mpbridge.html"><span class="label">How to use VScode + mpbridge tool</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/REPL_use_case.html"><span class="label">REPL Use Case</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/Burn_firmware.html"><span class="label">Burn firmware</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/lcd_init.html"><span class="label">LCD Screen init</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/Display_jpg_images.html"><span class="label">Display jpg images</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/Display_text.html"><span class="label">Display text characters</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/Make_semi-transparent_rectangular_text_box.html"><span class="label">Make semi-transparent rectangular text box</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/Refres_textbox_on_jpg.html"><span class="label">Refresh textbox on jpg</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/MicroPython/Display_multiple_vector_fonts.html"><span class="label">Display multiple vector fonts</span><span class=""></span></a></li>
</ul>
</li>
<li class="not_active no_link"><a><span class="label">3. Code with Arduino</span><span class="sub_indicator sub_indicator_collapsed"></span></a><ul class="">
<li class="not_active with_link"><a href="/Centi_S3_doc/en/Arduino/Environment.html"><span class="label">Install and configure the environment</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/Arduino/Arduino_upload.html"><span class="label">Connect, Upload</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/Arduino/Arduino_GFX_Install.html"><span class="label">Install Arduino GFX library</span><span class=""></span></a></li>
<li class="not_active with_link"><a href="/Centi_S3_doc/en/Arduino/Arduino_GFX_show_characters.html"><span class="label">Arduino GFX, show characters</span><span class=""></span></a></li>
</ul>
</li>
</ul>

            </div>
        </div>
        <div id="article">
            <div id="menu_wrapper">
                <div id="menu">
                </div>
            </div>
            <div id="content_wrapper">
                <div id="content_body">
                    <div id="article_head">
                        <div id="article_title">
                            
                            <h1></h1>
                            
                        </div>
                        <div id="article_tags">
                            <ul>
                            
                            </ul>
                        </div>
                        <div id="article_info">
                        <div id="article_info_left">
                            <span class="article_author">
                                
                            </span>
                            
                                <span class="article_date" title="Last modify date: 2023-11-01">
                                    2023-11-01
                                </span>
                            
                        </div>
                        <div id="article_info_right">
                            
                            <div id="source_link">
                                <a href="https://github.com/BPI-STEAM/BPI-Doc/blob/main/docs/Centi_S3_doc/en/MicroPython/VScode_mpbridge.md" target="_blank">
                                    Edit this page
                                </a>
                            </div>
                            
                        </div>
                        </div>
                    </div>
                    <div id="article_tools">
                        <span></span>
                        <span id="toc_btn"></span>
                    </div>
                    <div id="update_history">
                        
                    </div>
                    <div id="article_content">
                        
                            <h2 id="How-to-use-VScode-%2B-mpbridge-tool">How to use VScode + mpbridge tool</h2>
<blockquote>
<p><a href="./environment.html#install-visual-studio-code"  >Install Visual Studio Code</a>, <a href="./environment.html#install-the-mpbridge-tool"  >Install the mpbridge tool</a> needs to be done first.</p>
</blockquote>
<h3 id="Python-Extensions">Python Extensions</h3>
<p>Search <code>python</code> in the extension item to install Python extension support.</p>
<p><img src="../assets/images/vscode_mpbridge_1.png" alt="" /></p>
<h3 id="Open-folder">Open folder</h3>
<p>Click <code>Open Folder</code> in the file explorer item to open a folder, or create a new blank folder.</p>
<p>It is especially recommended for novices to start with a blank folder.</p>
<p><img src="../assets/images/vscode_mpbridge_2.png" alt="" /></p>
<h3 id="open-terminal">open terminal</h3>
<p>Click the <code>Terminal</code> item, click the <code>New Terminal</code> item, and a new terminal window will open, which usually appears in the lower box.</p>
<p><img src="../assets/images/vscode_mpbridge_3.png" alt="" /></p>
<h3 id="mpbridge-list-serial-port-numbers">mpbridge list serial port numbers</h3>
<p>First make sure your MicroPython development board has a serial data connection to your computer.</p>
<p>Enter the following command in the terminal and hit enter, and all serial port numbers on the computer will be listed.</p>

<pre class="language-sh"><code class="language-sh">mpbridge list
</code></pre>
<p><img src="../assets/images/vscode_mpbridge_4.png" alt="" /></p>
<p>If there is only one serial device connected to your computer, and it is your MicroPython development board, then the serial port number is that of the development board.</p>
<p>If your computer is connected to multiple serial devices, you can check the number list once by connecting the device, and check the number list once by unplugging the device to find the only item that changes, which is the serial number of your MicroPython development board. port number.</p>
<h3 id="mpbridge-connects-to-the-development-board">mpbridge connects to the development board</h3>
<p>Enter the following command in the terminal, modify the serial port number at the end to the number determined in the previous step, and hit the Enter key. If you are currently opening a blank folder, the mpbridge tool will first copy the files on the MicroPython development board to this folder.</p>

<pre class="language-sh"><code class="language-sh">mpbridge dev --auto-reset hard COM6
</code></pre>
<p><img src="../assets/images/vscode_mpbridge_5.png" alt="" /></p>
<p>When the files are copied, the terminal will display:</p>

<pre class="language-none"><code class="language-none">  ? Press [Enter] to Clean Sync &amp; Enter REPL
    Press [Ctrl + C] to exit
</code></pre>
<p>To enter the REPL, hit the Enter key again, and to exit the tool, use the <code>Ctrl + C</code> shortcut.</p>
<p>Before entering the REPL, the development board will be hard reset once, so that the program results can be viewed immediately.</p>
<p>If you don't want a hard reset, use this command:</p>

<pre class="language-sh"><code class="language-sh">mpbridge dev COM6
</code></pre>
<p>If you want to use soft reset then:</p>

<pre class="language-sh"><code class="language-sh">mpbridge --auto-reset soft COM6
</code></pre>
<p><img src="../assets/images/vscode_mpbridge_6.png" alt="" /></p>
<p>Once you are in the REPL, you can exit the REPL at any time by simply using the <code>Ctrl + X</code> shortcut.</p>
<p><img src="../assets/images/vscode_mpbridge_7.png" alt="" /></p>
<h3 id="Modify-or-add-new-files">Modify or add new files</h3>
<p>If you modify the code in a file or add a file in the local folder before exiting the REPL, the mpbridge tool will automatically check the changed file and synchronize it to the development board.</p>

<pre class="language-sh"><code class="language-sh">mpbridge dev --auto-reset hard COM6
</code></pre>
<p>This is also done when starting the command in the terminal.</p>
<p><img src="../assets/images/vscode_mpbridge_11.png" alt="" /></p>
<h3 id="Delete-Files">Delete Files</h3>

<pre class="language-sh"><code class="language-sh">mpbridge dev --auto-reset hard COM6
</code></pre>
<p>When this command finishes syncing the files, the terminal will display:</p>

<pre class="language-none"><code class="language-none">  ? Press [Enter] to Clean Sync &amp; Enter REPL
    Press [Ctrl + C] to exit
</code></pre>
<p>If you need to delete one or more files, delete it in the local folder first. Then click the Enter key, the mpbridge tool will automatically execute <code>Clean Sync</code>, delete the file with the same name in the development board, and finally enter the REPL.</p>
<p><img src="../assets/images/vscode_mpbridge_8.png" alt="" /></p>
<p><img src="../assets/images/vscode_mpbridge_9.png" alt="" /></p>
<p><img src="../assets/images/vscode_mpbridge_10.png" alt="" /></p>
<p>If you only want to temporarily delete the files on the development board and need to keep the files locally on the computer, please remember to back up the files to other folders in advance.</p>
<h3 id="What-did-mpbridge-do%3F">What did mpbridge do?</h3>

<pre class="language-sh"><code class="language-sh">mpbridge dev --auto-reset hard COM6
</code></pre>
<p>When starting to run this command, and after exiting the REPL, mpbridge will automatically perform these file operations:</p>
<ol>
<li>Push the files that are not in the device but exist locally to the device.</li>
<li>Check the hash of the files both in the local and the device, and then push the different files from the local to the device.</li>
<li>Pull the files that are not in the local but exist in the device to the local.</li>
</ol>
<p>Whenever the terminal displays this prompt:</p>

<pre class="language-none"><code class="language-none">  ? Press [Enter] to Clean Sync &amp; Enter REPL
    Press [Ctrl + C] to exit
</code></pre>
<p>Press the Enter key again, and mpbridge will automatically perform these file operations:</p>
<ol>
<li>Push the files that are not in the device but exist locally to the device.</li>
<li>Check the hash of the files both in the local and the device, and then push the different files from the local to the device.</li>
<li>Delete the files from the device that are not in the local but exist in the device.</li>
<li>Hard reset the device and enter REPL.</li>
</ol>
<p>If you press the <code>Ctrl + C</code> shortcut key at this time, you will exit the mpbridge tool.</p>

                        
                    </div>
                </div>
                <div id="previous_next">
                    <div id="previous">
                        
                        <a href="/Centi_S3_doc/en/MicroPython/environment.html">
                            <span class="icon"></span>
                            <span class="label">Install and configure the environment</span>
                        </a>
                        
                    </div>
                    <div id="next">
                        
                        <a href="/Centi_S3_doc/en/MicroPython/REPL_use_case.html">
                            <span class="label">REPL Use Case</span>
                            <span class="icon"></span>
                        </a>
                        
                    </div>
                </div>
                <div id="comments-container"></div>
            </div>
            <div id="toc_wrapper">
                <div id="toc">
                    <div id="toc_content">
                            
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a id="to_top" href="#"></a>
    <div id="doc_footer">
        <div id="footer">
            <div id="footer_top">
                <ul>
<li><a>Link</a><ul><li><a target="_blank" href="https://www.banana-pi.org.cn">Banana Pi</a></li>
<li><a target="_blank" href="http://wiki.banana-pi.org/Main_Page">Wiki</a></li>
<li><a target="_blank" href="https://webduino.com.cn/site/en_cn/index.html">Webduino</a></li>
<li><a target="_blank" href="https://shop108780008.taobao.com/">Taobao</a></li>
</ul>
</li>
<li><a>Source Code</a><ul><li><a target="_blank" href="https://github.com/BPI-STEAM/BPI-Doc">Source file of this website</a></li>
<li><a target="_blank" href="https://github.com/BPI-SINOVOIP">BananaPi source file</a></li>
</ul>
</li>
<li><a>Contact us</a><ul><li><a>Tel: +86 0755-26475332</a>
</li>
<li><a>Business Support: sales@banana-pi.com (Sales Department)</a>
</li>
<li><a>Technical Support: support@banana-pi.com (Technical Department)</a>
</li>
<li><a>Address: 7th Floor, Rongyi Building, Songshan Lake High-tech Industrial Development Zone, Guangdong Province</a>
</li>
</ul>
</li>
</ul>

            </div>
            <div id="footer_bottom">
                <ul>
<li><a target="_blank" href="https://bpi-steam.com/">Copyright © 2022 Banana Pi</a></li>
</ul>

            </div>
        </div>
    </div>
    
        <script src="/teedoc-plugin-markdown-parser/mermaid.min.js"></script>
    
        <script>mermaid.initialize({startOnLoad:true});</script>
    
        <script type="text/javascript">
                var transLoaded = false;
                var loading = false;
                var domain = "translate.google.com";
                var domainDefault = domain;
                var storeDomain = localStorage.getItem("googleTransDomain");
                if(storeDomain){
                    domain = storeDomain;
                    console.log("load google translate domain from local storage:" + domain);
                }
                function getUrl(domain){
                    if(domain == "/")
                        return "/static/js/google_translate/element.js?cb=googleTranslateElementInit";
                    else
                        return "https://" + domain + "/translate_a/element.js?cb=googleTranslateElementInit";
                }
                var url = getUrl(domain);
                console.log("google translate domain:" + domain + ", url: " + url);
                function googleTranslateElementInit() {
                    new google.translate.TranslateElement({pageLanguage: "auto", layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
                }
                function loadJS( url, callback ){
                    var script = document.createElement('script');
                    fn = callback || function(){ };
                    script.type = 'text/javascript';
                    if(script.readyState){
                        script.onreadystatechange = function(){
                            if( script.readyState == 'loaded' || script.readyState == 'complete' ){
                                script.onreadystatechange = null;
                                fn();
                            }
                        };
                    }else{
                        script.onload = function(){
                            fn();
                        };
                    }
                    script.src = url;
                    document.getElementsByTagName('head')[0].appendChild(script);
                }
                function removeHint(){
                    var hint = document.getElementById("loadingTranslate");
                    if(hint){
                        hint.remove();
                    }
                }
                var btn = document.getElementById("google_translate_element");
                btn.onclick = function(){
                    if(transLoaded) return;
                    if(loading){
                        var flag = confirm("loading from " + domain + ", please wait, or change domain?");
                        if(flag){
                            newDomain = prompt("domain, default: " + domainDefault + ", now: " + domain);
                            if(newDomain){
                                domain = newDomain;
                                console.log(domain);
                                url = getUrl(domain);
                                loadJS(url, function(){
                                    localStorage.setItem("googleTransDomain", domain);
                                    removeHint()
                                    transLoaded = true;
                                });
                            }
                        }
                        return;
                    }
                    btn.innerHTML = '<span id="loadingTranslate"><img class="icon" src="/static/image/google_translate/translate.svg"/>Loading ...</span>';
                    loading = true;
                    loadJS(url, function(){
                        localStorage.setItem("googleTransDomain", domain);
                        removeHint()
                        transLoaded = true;
                    });
                }
                </script>
            
    
        <script src="/static/js/plugin_blog/main.js"></script>
    
        <script src="/static/js/theme_default/tocbot.min.js"></script>
    
        <script src="/static/js/theme_default/main.js"></script>
    
        <script src="/static/js/theme_default/viewer.min.js"></script>
    
        <script src="/static/css/theme_default/prism.min.js"></script>
    
        <script src="/static/js/search/search_main.js"></script>
    
        <script src="/static/js/gitalk/gitalk.min.js"></script>
    
        <script src="/static/js/gitalk/main.js"></script>
    
        <script src="/static/js/custom.js"></script>
    
</body>

</html>